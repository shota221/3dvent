<?php
use App\Http\Forms\ValidationRule as Rule;

return [
    'filename' => 'ventilators_data.csv',
    'header' => [
        'ventilator_id' => 'MicroVentID',
        'gs1_code' => 'MicroVentコード',
        'serial_number' => 'シリアルナンバー',
        'city' => '最寄りの都市',
        'qr_read_at' => 'QR読込日時',
        'expiration_date' => '有効期限',
        'start_using_at' => '使用開始日時',
        'patient_exists' => '患者データ有無',
        'patient_id' => '患者ID', //同一ファイル内でのある患者の同一性を担保。patient_codeがnullの場合にも
        'patient_code' => '患者コード',
        'patient_height' => '身長',
        'patient_weight' => '体重',
        'patient_gender' => '性別',
        'patient_value_exists' => '患者観察研究データ有無',
        'patient_value_registered_at' => '患者観察研究登録日時',
        'age' => '患者年齢',
        'vent_disease_name' => '疾患名',
        'other_disease_name_1' => 'その他疾患名1',
        'other_disease_name_2' => 'その他疾患名2',
        'used_place' => '使用場所',
        'hospital' => '病院名',
        'national' => '国名',
        'discontinuation_at' => '使用中止日時',
        'outcome' => '使用中止時の転帰',
        'treatment' => '使用中止後の呼吸不全治療',
        'adverse_event_flg' => '機器に関連する有害事象フラグ',
        'adverse_event_contents' => '機器に関連する有害事象内容',
        'opt_out_flg' => 'オプトアウト',
        'ventilator_value_exists' => '機器観察研究データ有無',
        'appkey_id' => '機器観察研究データ登録アプリキーID',
        'ventilator_value_registered_at' => '機器観察研究データ登録日時',
        'height' => '測定時身長',
        'weight' => '測定時体重',
        'gender' => '性別',
        'ideal_weight' => '測定時理想体重',
        'airway_pressure' => '設定圧',
        'total_flow' => '供給気量',
        'air_flow' => '空気流量',
        'o2_flow' => '酸素流量',
        'rr' => '呼吸回数',
        'expiratory_time' => '呼気時間',
        'inspiratory_time' => '吸気時間',
        'vt_per_kg' => '1kgあたりの一回換気量',
        'predicted_vt' => '予測一回換気量',
        'estimated_vt' => 'Estimated Vt',
        'estimated_mv' => 'Estimated MV',
        'estimated_peep' => 'Estirmted PEEP',
        'fio2' => 'FiO2',
        'status_use' => '使用状況',
        'status_use_other' => 'その他使用状況',
        'spo2' => '経皮的酸素飽和度',
        'etco2' => '呼気終末二酸化炭素分圧',
        'pao2' => 'PaO2',
        'paco2' => 'PaCO2',
        'fixed_flg' => '最終設定ステータス',
        'fixed_at' => '最終設定日時',
        'confirmed_flg' => '確認ステータス',
        'confirmed_at' => '確認日時',
    ],

    'validation_rule' => [
        'ventilator_id' => 'required|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'gs1_code' => 'required|' . Rule::VALUE_STRING,
        'serial_number' => 'required|' . Rule::VALUE_STRING,
        'city' => 'nullable|' . Rule::VALUE_STRING,
        'qr_read_at' => 'required|date_format:Y-m-d H:i:s',
        'expiration_date' => 'nullable|date',
        'start_using_at' => 'required|date',
        'patient_exists' => 'required|' . Rule::FLG_INTEGER,
        'patient_id' => 'required_if:patient_exists,1|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'patient_code' => 'nullable|' . Rule::VALUE_STRING,
        'patient_height' => 'required_if:patient_exists,1|' . Rule::VALUE_POSITIVE . '|max:999',
        'patient_weight' => 'nullable|' . Rule::VALUE_POSITIVE . '|max:999',
        'patient_gender' => 'required_if:patient_exists,1|' . Rule::intRange(1, 2),
        'patient_value_exists' => 'required|' . Rule::FLG_INTEGER,
        'patient_value_registered_at' =>  'required_if:patient_value_exists,1|date',
        'opt_out_flg' => 'nullable|' . Rule::FLG_INTEGER,
        'age' => 'nullable|' . Rule::VALUE_POSITIVE_INTEGER,
        'vent_disease_name' => 'nullable|' . Rule::VALUE_STRING,
        'other_disease_name_1' => 'nullable|' . Rule::VALUE_STRING,
        'other_disease_name_2' => 'nullable|' . Rule::VALUE_STRING,
        'used_place' => 'nullable|' . Rule::intRange(1, 8),
        'hospital' => 'nullable|' . Rule::VALUE_STRING,
        'national' => 'nullable|' . Rule::VALUE_STRING,
        'discontinuation_at' => 'nullable|date',
        'outcome' => 'nullable|' . Rule::intRange(1, 4),
        'treatment' => 'nullable|' . Rule::intRange(1, 6),
        'adverse_event_flg' => 'nullable|' . Rule::FLG_INTEGER,
        'adverse_event_contents' => 'nullable|' . Rule::VALUE_TEXT,
        'ventilator_value_exists' => 'required|' . Rule::FLG_INTEGER,
        'appkey_id' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'ventilator_value_registered_at' => 'required_if:ventilator_value_exists,1|date',
        'height' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE . '|max:999',
        'weight' => 'nullable|' . Rule::VALUE_POSITIVE . '|max:999',
        'gender' => 'required_if:ventilator_value_exists,1|' . Rule::intRange(1, 2),
        'ideal_weight' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'airway_pressure' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'total_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'air_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'o2_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'rr' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'expiratory_time' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'inspiratory_time' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'vt_per_kg' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'predicted_vt' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_vt' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_mv' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_peep' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'fio2' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'status_use' => 'nullable|' . Rule::intRange(1, 4),
        'status_use_other' => 'nullable|' . Rule::VALUE_STRING,
        'spo2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'etco2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'pao2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'paco2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'fixed_flg' => 'required_if:ventilator_value_exists,1|' . Rule::FLG_INTEGER,
        'fixed_at' => 'required_if:fixed_flg,1|date',
        'confirmed_flg' => 'required_if:ventilator_value_exists,1|' . Rule::FLG_INTEGER,
        'confirmed_at' => 'required_if:confirmed_flg,1|date',
    ]
];
