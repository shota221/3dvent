<?php
use App\Http\Forms\ValidationRule as Rule;

return [
    'filename' => 'ventilators_data.csv',
    'header' => [
        'ventilator_id' => 'MicroVentID',
        'gs1_code' => 'GS1コード',
        'serial_number' => 'シリアルナンバー',
        'city' => '最寄りの都市',
        'qr_read_at' => 'GS1コード読込日時',
        'expiration_date' => '有効期限',
        'start_using_at' => '使用開始日時',
        'patient_exists' => '患者データ有無',
        'patient_id' => '患者ID', //同一ファイル内でのある患者の同一性を担保。patient_codeがnullの場合にも
        'patient_code' => '患者(ID)',
        'patient_height' => '身長',
        'patient_weight' => '体重',
        'patient_gender' => '性別',
        'patient_value_exists' => '患者観察研究データ有無',
        'patient_value_registered_at' => '患者観察研究登録日時',
        'age' => '患者年齢',
        'vent_disease_name' => 'MicroVentV3使用の原因病名',
        'other_disease_name_1' => '併存症1',
        'other_disease_name_2' => '併存症2',
        'used_place' => '使用場所',
        'hospital' => '病院/診療所名',
        'national' => '国名',
        'discontinuation_at' => '中止日時',
        'outcome' => '転帰(中止時)',
        'treatment' => '中止後の呼吸不全治療',
        'adverse_event_flg' => '機器を原因とする有害事象',
        'adverse_event_contents' => '機器を原因とする有害事象の名称',
        'opt_out_flg' => 'データ除外(オプトアウト)',
        'ventilator_value_exists' => 'MicroVentV3設定データ有無',
        'appkey_id' => 'MicroVentV3設定データ登録アプリキーID',
        'ventilator_value_registered_at' => 'MicroVentV3設定データ登録日時',
        'height' => '測定時身長',
        'weight' => '測定時体重',
        'gender' => '性別',
        'ideal_weight' => '測定時理想体重',
        'airway_pressure' => 'ダイヤル設定圧',
        'total_flow' => '供給気量',
        'air_flow' => '空気流量',
        'o2_flow' => '酸素流量',
        'rr' => '呼吸回数',
        'expiratory_time' => '呼気時間',
        'inspiratory_time' => '吸気時間',
        'vt_per_kg' => '1kgあたりの一回換気量',
        'predicted_vt' => '推奨Vt(1回換気量)',
        'estimated_vt' => '推定Vt(1回換気量)',
        'estimated_mv' => '推定MV(分時換気量)',
        'estimated_peep' => '推定PEEP',
        'fio2' => 'FiO2',
        'status_use' => '使用状況',
        'status_use_other' => '使用状況(その他の場合)',
        'spo2' => '経皮的酸素飽和度',
        'etco2' => '呼気終末二酸化炭素分圧',
        'pao2' => 'PaO2',
        'paco2' => 'PaCO2',
        'fixed_flg' => '15分以上継続値ステータス',
        'fixed_at' => '15分以上継続日時',
        'confirmed_flg' => '確認ステータス',
        'confirmed_at' => '確認日時',
    ],

    'validation_rule' => [
        'ventilator_id' => 'required|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'gs1_code' => 'required|' . Rule::VALUE_STRING,
        'serial_number' => 'required|' . Rule::VALUE_STRING,
        'city' => 'nullable|' . Rule::VALUE_STRING,
        'qr_read_at' => 'required|date_format:Y-m-d H:i:s',
        'expiration_date' => 'nullable|date',
        'start_using_at' => 'required|date',
        'patient_exists' => 'required|' . Rule::FLG_INTEGER,
        'patient_id' => 'required_if:patient_exists,1|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'patient_code' => 'nullable|' . Rule::VALUE_STRING,
        'patient_height' => 'required_if:patient_exists,1|' . Rule::VALUE_POSITIVE . '|max:999',
        'patient_weight' => 'nullable|' . Rule::VALUE_POSITIVE . '|max:999',
        'patient_gender' => 'required_if:patient_exists,1|' . Rule::GENDER_INTEGER,
        'patient_value_exists' => 'required|' . Rule::FLG_INTEGER,
        'patient_value_registered_at' =>  'required_if:patient_value_exists,1|date',
        'opt_out_flg' => 'nullable|' . Rule::FLG_INTEGER,
        'age' => 'nullable|' . Rule::VALUE_POSITIVE_INTEGER,
        'vent_disease_name' => 'nullable|' . Rule::VALUE_STRING,
        'other_disease_name_1' => 'nullable|' . Rule::VALUE_STRING,
        'other_disease_name_2' => 'nullable|' . Rule::VALUE_STRING,
        'used_place' => 'nullable|' . Rule::USED_PLACE_INTEGER,
        'hospital' => 'nullable|' . Rule::VALUE_STRING,
        'national' => 'nullable|' . Rule::VALUE_STRING,
        'discontinuation_at' => 'nullable|date',
        'outcome' => 'nullable|' . Rule::OUTCOME_INTEGER,
        'treatment' => 'nullable|' . Rule::TREATMENT_INTEGER,
        'adverse_event_flg' => 'nullable|' . Rule::FLG_INTEGER,
        'adverse_event_contents' => 'nullable|' . Rule::VALUE_TEXT,
        'ventilator_value_exists' => 'required|' . Rule::FLG_INTEGER,
        'appkey_id' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE_NON_ZERO,
        'ventilator_value_registered_at' => 'required_if:ventilator_value_exists,1|date',
        'height' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE . '|max:999',
        'weight' => 'nullable|' . Rule::VALUE_POSITIVE . '|max:999',
        'gender' => 'required_if:ventilator_value_exists,1|' . Rule::GENDER_INTEGER,
        'ideal_weight' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'airway_pressure' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'total_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'air_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'o2_flow' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'rr' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'expiratory_time' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'inspiratory_time' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'vt_per_kg' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'predicted_vt' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_vt' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_mv' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'estimated_peep' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'fio2' => 'required_if:ventilator_value_exists,1|' . Rule::VALUE_POSITIVE,
        'status_use' => 'nullable|' . Rule::STATUS_USE_INTEGER,
        'status_use_other' => 'nullable|' . Rule::VALUE_STRING,
        'spo2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'etco2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'pao2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'paco2' => 'nullable|' . Rule::VALUE_POSITIVE,
        'fixed_flg' => 'required_if:ventilator_value_exists,1|' . Rule::FLG_INTEGER,
        'fixed_at' => 'required_if:fixed_flg,1|date',
        'confirmed_flg' => 'required_if:ventilator_value_exists,1|' . Rule::FLG_INTEGER,
        'confirmed_at' => 'required_if:confirmed_flg,1|date',
    ]
];
